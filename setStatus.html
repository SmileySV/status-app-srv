<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–ê–¥–º—ñ–Ω–∫–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #dcd8e0; padding: 40px 15px; font-family: sans-serif; }
        .card-ios { background: #f5f3f7; border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .server-line { display: grid; grid-template-columns: 1fr 1fr 0.5fr 0.8fr; gap: 15px; align-items: center; padding: 10px 0; border-bottom: 1px solid #d1d1d6; }
        .json-box { background: #1c1c1e; color: #acffac; padding: 15px; border-radius: 12px; font-family: monospace; font-size: 0.8rem; }
        .switch-upd:checked { background-color: #ff2d55; border-color: #ff2d55; }
    </style>
</head>
<body>
<div class="container" style="max-width: 900px;">
    <div class="card-ios">
        <div class="d-flex justify-content-between mb-4">
            <h2 class="m-0">‚öôÔ∏è –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞–º–∏</h2>
            <a href="index.html" class="btn btn-sm btn-secondary">üîô –ù–∞–∑–∞–¥</a>
        </div>
        <div id="list"></div>
    </div>
    <div class="card-ios">
        <div class="d-flex justify-content-between mb-2">
            <h5 class="m-0">üìÑ JSON (–°–∫–æ–ø—ñ—é–π —É data.json)</h5>
            <button class="btn btn-sm btn-primary" onclick="copy()">–ö–æ–ø—ñ—é–≤–∞—Ç–∏ –≤—Å–µ</button>
        </div>
        <pre id="output" class="json-box"></pre>
    </div>
</div>

<script>
    let data = [];
    fetch('data.json').then(r => r.json()).then(d => { data = d; render(); });

    function render() {
        const cont = document.getElementById('list');
        cont.innerHTML = '';
        data.forEach((s, i) => {
            const div = document.createElement('div');
            div.className = 'server-line';
            div.innerHTML = `
                <div><b>${s.name}</b><br><small>${s.ip}</small></div>
                <div><input type="text" class="form-control form-control-sm" value="${s.date}" onchange="data[${i}].date=this.value; update()"></div>
                <div class="text-center"><input class="form-check-input" type="checkbox" ${s.dev?'checked':''} onchange="data[${i}].dev=!data[${i}].dev; update()"></div>
                <div class="text-center"><input class="form-check-input switch-upd" type="checkbox" ${s.status==='Updating'?'checked':''} onchange="data[${i}].status=(data[${i}].status==='Online'?'Updating':'Online'); render(); update()">
                <br><small class="${s.status==='Updating'?'text-danger':'text-success'}">${s.status}</small></div>
            `;
            cont.appendChild(div);
        });
        update();
    }

    function update() { document.getElementById('output').textContent = JSON.stringify(data, null, 4); }

    function copy() {
        const ta = document.createElement("textarea");
        ta.value = document.getElementById('output').textContent;
        document.body.appendChild(ta); ta.select(); document.execCommand('copy');
        document.body.removeChild(ta); alert('–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!');
    }
</script>
</body>
</html>